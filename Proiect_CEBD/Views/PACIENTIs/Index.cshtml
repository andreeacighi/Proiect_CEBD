@model IEnumerable<Proiect_CEBD.Models.PACIENTI>

@{
    ViewBag.Title = "Index";
}


<!-- Adăugăm padding pe laturi pentru a lăsa spațiu -->
<h2 class="text-center mb-4 text-primary">📋 Pacienți înscriși în sistem</h2>

<!-- Formular pentru selecția criteriilor de sortare -->
<form method="get" action="@Url.Action("Index", "PACIENTIs")" class="bg-light border rounded shadow-sm d-flex flex-column align-items-center md-4">
    <div class="row g-3 w-75 mx-auto">
        <!-- Lărgim formularul la 75% din lățimea paginii -->
        <div class="col-md-6">
            <label for="SortBy" class="form-label fw-bold">Sortare după:</label>
            @Html.DropDownList("sortBy", (IEnumerable<SelectListItem>)ViewBag.SortByList, "Selectează", new { @class = "form-select" })
        </div>
        <div class="col-md-6">
            <label for="SortOrder" class="form-label fw-bold">Ordine:</label>
            @Html.DropDownList("sortOrder", (IEnumerable<SelectListItem>)ViewBag.SortOrderList, "Selectează", new { @class = "form-select" })
        </div>
    </div>

    <div class="text-center mt-3 p-2">
        <button type="submit" class="btn btn-success">
            <i class="fa fa-sort"></i> Aplică Sortarea
        </button>
        <br />
    </div>
</form>

<!-- Tabel cu pacienți -->
<table class="table table-hover table-striped border rounded shadow-sm mt-3">
    <thead class="table-dark text-center">
        <tr>
            <th>@Html.DisplayNameFor(model => model.ID_PACIENT)</th>
            <th>@Html.DisplayNameFor(model => model.NUME)</th>
            <th>@Html.DisplayNameFor(model => model.PRENUME)</th>
            <th>@Html.DisplayNameFor(model => model.CNP)</th>
            <th>@Html.DisplayNameFor(model => model.ASIGURARE)</th>
            <th>@Html.DisplayNameFor(model => model.CARD_SANATATE)</th>
            <th>@Html.DisplayNameFor(model => model.ADRESA)</th>
            <th>@Html.DisplayNameFor(model => model.TELEFON)</th>
            <th>Acțiuni</th>
        </tr>
    </thead>

    @foreach (var item in Model)
    {
        <tr>
            <td>@Html.DisplayFor(modelItem => item.ID_PACIENT)</td>
            <td>@Html.DisplayFor(modelItem => item.NUME)</td>
            <td>@Html.DisplayFor(modelItem => item.PRENUME)</td>
            <td>@Html.DisplayFor(modelItem => item.CNP)</td>
            <td>@Html.DisplayFor(modelItem => item.ASIGURARE)</td>
            <td>@Html.DisplayFor(modelItem => item.CARD_SANATATE)</td>
            <td>@Html.DisplayFor(modelItem => item.ADRESA)</td>
            <td>@Html.DisplayFor(modelItem => item.TELEFON)</td>
            <td>

                @Html.ActionLink("Edit", "Edit", new { id = item.ID_PACIENT }) |
                @Html.ActionLink("Details", "Details", new { id = item.ID_PACIENT }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.ID_PACIENT })
            </td>
        </tr>
    }

</table>


<!-- Card pentru adăugarea unui nou pacient -->
<div class="card bg-light border rounded shadow-sm mt-4 p-3">
    <div class="card-body text-center">
        <h4 class="card-title text-success">➕ Adaugă un pacient nou</h4>
        <p class="card-text">Completează datele unui nou pacient în sistem.</p>
        @Html.ActionLink("Adaugă pacient", "Create", null, new { @class = "btn btn-success px-4 fw-bold" })
    </div>
</div>


